<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/Cart/Cart.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/Cart/Cart.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from 'react'
import store from '../../Store/Store'
import { removeItemFromOrder, submitOrderTobackend } from '../../Store/actions'
import { connect } from 'react-redux'

/**
 * Represents a product cart.
 * @class
 */

class Cart extends React.Component {
  items = [];
  unsubscribe;
  constructor(props) {
    super(props)

    this.state = {
      orderItems: [],
      noOrder: true
    }

    this.deleteItemFromOrder = this.deleteItemFromOrder.bind(this)
    this.checkout = this.checkout.bind(this)
  }

  /**
 * lifecycle function.
 *@function
 */

  componentWillMount() {
    this.items = store.getState()
    this.items = this.items.manageOrder.orderItems
    console.log(this.items)
    if (this.items.length != 0) {
      this.setState({ noOrder: false })

    }
    this.setState({ orderItems: this.items })


  }


  componentDidMount() {

    this.unsubscribe = store.subscribe(() => {
      this.items = store.getState()
      this.items = this.items.manageOrder.orderItems
      console.log(this.items)
      this.setState({ orderItems: this.items })
      if (this.items.length == 0) {
        this.setState({ noOrder: true })
      }
    })
  }

  componentWillUnmount() {
    this.unsubscribe();
  }



  deleteItemFromOrder(e) {
    this.props.removeItemFromOrder({ id: e.target.id })

  }

  checkout() {
    this.props.submitOrderTobackend(this.state.orderItems)
  }

  render() {

    return (

      &lt;div>

        {
          this.state.noOrder ? &lt;p>No ordered items&lt;/p> :

            this.state.orderItems.map(item => {

              return &lt;div key={item.orderId} className="card" style={{ width: "400px", marginTop: "10px" }}>
                &lt;div className="card-body">
                  &lt;h5 className="card-title">{item.product.name}&lt;/h5>
                  &lt;p className="card-text">order ID:{item.orderId}&lt;/p>
                  &lt;p className="card-text">Quntity:{item.itemNumber}&lt;/p>
                  &lt;a onClick={this.deleteItemFromOrder} id={item.orderId} className="btn btn-danger">Delete&lt;/a>
                &lt;/div>
              &lt;/div>
            })

        }
        {
          this.state.noOrder ? &lt;p>&lt;/p> :
            &lt;a onClick={this.checkout} className="btn btn-success">check out&lt;/a>
        }

      &lt;/div>
    )
  }
}
// export default Cart;
export default connect(null, { removeItemFromOrder, submitOrderTobackend })(Cart);

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Cart.html">Cart</a></li><li><a href="Main.html">Main</a></li><li><a href="navbar.html">navbar</a></li></ul><h3>Global</h3><ul><li><a href="global.html#App">App</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Fri Aug 23 2019 20:52:34 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
